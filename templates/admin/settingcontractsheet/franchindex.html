{% extends 'admin/contractsheetlayouts.html' %}
{% load static %}
{% block content %}
<div class="table-border" style="width: 700px;text-align: center;border: 1px solid #000;margin: 0 auto;height: auto;">
    <h1 style="margin: 0;padding: 10px;font-size: 15px;font-weight: normal;text-align: left;border-bottom: 1px solid #000;background-color: #dbe8f2;">
       <input type="text" placeholder=" Service agreement" id="title1" style="width: 50%;" value="{{ data.0.title1 }}" onchange="update_contractsheet()"> : 774374388
    <span style="float: right;">Date : 01/09/2018</span>
    </h1>
    <div class="table-inner" style="width: 700px">
    <table style="width: 330px;margin: 10px;border:1px solid #000;float: left;">
        <thead>
        <tr style="background-color: #cfd0cd;">
            <th style="text-align: left;font-weight:300;padding: 5px;">
               <input type="text" id="title2" placeholder="Customer Info" style="width: 100%;" onchange="update_contractsheet()"value="{{ data.0.title2 }}">
            </th>
        </tr>
        </thead>
        <tbody>
        <tr style="width: 100%;float: left;padding: 5px 0;">
            <td style="font-size: 14px;text-align: left;">
                Dummy account<br>
                555555555, 222222222222222
            </td>
        </tr>
        <tr style="width: 100%;float: left;padding: 5px 0;">
            <td style="font-size: 14px;text-align: left;">
                <strong>Address</strong><br>
                555555555, 222222222222222
            </td>
        </tr>
        </tbody>
    </table>
    <table style="width: 330px;margin: 10px;border:1px solid #000;float: right;">
        <thead>
        <tr style="background-color: #cfd0cd;">
            <th style="text-align: left;font-weight:300;padding: 5px;">
                <input type="text" id="title3" placeholder=" Payment Details :" onchange="update_contractsheet()" style="width: 100%;" value="{{ data.0.title3 }}">
            </th>
        </tr>
        </thead>
        <tbody>
        <tr style="width: 100%;float: left;padding: 5px 0;">
            <td style="font-size: 14px;text-align: left;">
                &nbsp;<br>&nbsp;
            </td>
        </tr>
        <tr style="width: 100%;float: left;padding: 5px 0;">
            <td style="font-size: 14px;text-align: left;">
                <strong>&nbsp;</strong><br>
                &nbsp;
            </td>
        </tr>
        </tbody>
    </table>
    <table style="width: 680px;margin: 10px;border:1px solid #000;">
        <thead>
        <tr style="background-color: #cfd0cd;">
            <th style="text-align: left;font-weight:300;padding: 5px;">
                <input type="text" id="title4" placeholder=" Internet Banking Details" onchange="update_contractsheet()" style="width: 100%;" value="{{ data.0.title4 }}">
                </th>
        </tr>
        </thead>
        <tbody>
        <tr style="text-align: left;width: 100%;float: left;">
            <td style="padding: 5px 0;font-size: 14px;">

                <textarea rows="3" cols="94" id="title5" placeholder="Enter text.." onchange="update_contractsheet()">{{ data.0.title5 }}</textarea>

            </td>
        </tr>
        <tr>
            <td style="text-align: left;padding-bottom: 20px;font-size: 14px">
                For your first Gemestelecom prepayment Acc#67767788383- $194 28
            </td>
        </tr>
        </tbody>
    </table>
        <div class="summary" style="width: 680px;float: left;padding: 0 10px;border-bottom: 1px solid #000;">
           <h3 style="text-align: left;font-weight: 100;">
               <input type="text" placeholder="Summary" id="title6" style="width: 100%;" onchange="update_contractsheet()" value="{{ data.0.title6 }}">
           </h3>
            <p style="text-align: left;text-transform: capitalize;font-size: 14px;">Total monthly charges
                <span style="float: right;">$28.89</span>
            </p>
            <p style="text-align: left;font-size: 14px;">One Time Charges (see details on next page)
                <span style="float: right;">$139.99</span>
            </p>
            <p style="text-align: left;border-bottom: 1px solid #000;font-size: 14px;">G.S.T
                <span style="float: right;">$8.45</span>
            </p>
            <p style="text-align: left;font-size: 14px;">P.S.T
                <span style="float: right;">$16.88</span>
            </p>
            <p style="text-align: left;font-size: 14px;border-bottom: 1px solid #000;">First Monthly Charges(Total monthly + Onetime charges)
                <span style="float: right;">$194.28</span>
            </p>
        </div>
        <div class="summary" style="width: 680px;float: left;padding:10px;border-bottom: 1px solid #000;">
            <h3 style="text-align: left;font-weight: 100;">
                <input type="text" placeholder="Monthly Charges" id="title7" style="width: 100%;" onchange="update_contractsheet()" value="{{ data.0.title7 }}">
            </h3>
            <p style="text-align: left;text-transform: capitalize;font-size: 14px;border-bottom: 1px solid #000;">Plan Name
                <span style="float: right;">Total</span>
            </p>
            <p style="text-align: left;font-size: 14px;">Internet Basic Speed 5MBPs (15GB) (28.99 x 1)
                <span style="float: right;">$20.99</span>
            </p>
            <p style="text-align: left;border-bottom: 1px solid #000;font-size: 14px;">Total Monthly Charges
                <span style="float: right;">$28.99</span>
            </p>
        </div>
       <table style="width: 680px;float: left;padding: 0 10px;">
           <caption style="text-align: left;margin-top: 20px;padding: 0 10px;font-size: 20px;margin-bottom: 10px;">
               <input type="text" id="title8" placeholder="Onetime Charges & Hardware" style="width: 100%;  " onchange="update_contractsheet()" value="{{ data.0.title8 }}">
           </caption>
           <thead>
           <tr style="width: 100%;border-bottom: 2px solid #000;">
               <th colspan="6" style="text-align: left;font-weight: 600;">Plan Name</th>
               <th colspan="1" style="text-align: right;font-weight: 600;">Retail Price</th>
               <th colspan="1" style="text-align: right;font-weight: 600;">Discounted Price</th>
           </tr>
           </thead>
           <tbody>
           <tr>
               <td colspan="6" style="text-align: left;">
                   Preparation and delivery charge x 1
               </td>
               <th colspan="1" style="text-align: right;font-weight: 100;">$15.00</th>
               <th colspan="1" style="text-align: right;font-weight: 100;">$10.00</th>
           </tr>
           <tr>
               <td colspan="6" style="text-align: left;">
                   Themon Cable Modem DCM 476 x 1
               </td>
               <th colspan="1" style="text-align: right;font-weight: 100;">$15.00</th>
               <th colspan="1" style="text-align: right;font-weight: 100;">$10.00</th>
           </tr>
           <tr>
               <td colspan="6" style="text-align: left;">
                   ATA setup x 1
               </td>
               <th colspan="1" style="text-align: right;font-weight: 100;">$25.00</th>
               <th colspan="1" style="text-align: right;font-weight: 100;">$25.00</th>
           </tr>
           <tr style="margin: 5px 0;">
               <td colspan="6" style="text-align: left;">
                   <strong>Total Onetime Charges</strong>
               </td>
               <th colspan="1" style="text-align: right;font-weight: 100;"><strong>$139.99</strong></th>
               <th colspan="1" style="text-align: right;font-weight: 100;"><strong>$139.99</strong></th>
           </tr>
           </tbody>
       </table>
        <table style="width: 680px;float: left;padding: 0 10px;border-bottom: 1px solid #000;">
            <caption style="text-align: left;margin-top: 20px;padding: 0 10px;font-size: 20px;margin-bottom: 10px;">Service Agreement Savings</caption>
            <thead>
            <tr style="width: 100%;">
                <th colspan="6" style="text-align: left;font-weight: 600;">Details</th>
                <th colspan="1" style="text-align: right;font-weight: 600;">Retail Price</th>
                <th colspan="1" style="text-align: right;font-weight: 600;">Discounted Price</th>
                <th colspan="1" style="text-align: right;font-weight: 600;">Savings</th>
            </tr>
            </thead>
            <tbody>
            <tr>
                <td colspan="6" style="text-align: left;">
                    Total Savings
                </td>
                <td>
                  &nbsp;
                </td>
                <td>
                  &nbsp;
                </td>
                <td style="text-align: right;">
                  $0.00
                </td>
            </tr>
            </tbody>
        </table>
    </div>
    <div class="text" style="width: 680px;padding: 10px 10px;">
        <p style="text-align: left;padding-top: 20px;">
            <textarea cols="92" id="title9" value="*At the end of terms or at the time of cancellation, all devices must be returned at the client's own expertise<br> within
            15days following the termination of service. All devices not paid fully by the client in the property of .." style="margin-top: 10px;" onchange="update_contractsheet()">{{ data.0.title9 }}</textarea>
        </p>
    </div>
</div>
<div class="table-border" style="width: 700px;text-align: center;border: 1px solid #000;margin: 20px auto;height: 550px;">
    <h1 style="margin: 0;padding: 10px;font-size: 15px;font-weight:bold;text-align: left;border-bottom: 1px solid #000;background-color: #dbe8f2;">
        <input type="text" placeholder="Details" style="width: 100%;" id="title10" onchange="update_contractsheet()" value="{{ data.0.title10 }}">
    </h1>
    <p style="margin: 0;padding: 10px;font-size: 15px;text-align: left;font-weight: bold;">
        <input type="text" placeholder="Notes" style="width: 100%;" id="title11" onchange="update_contractsheet()" value="{{ data.0.title11 }}">
    </p>
    <p style="margin: 0;padding: 0 10px;font-size: 15px;text-align: left;">Internet Basic Speed : Cable 5MBPs (15GB) (21.99 x 1)</p>
    <p style="margin: 0;padding: 0 10px;font-size: 15px;text-align: left;">lorem ipsum dummyb text</p>
    <p style="margin: 0;padding: 20px 10px;font-size: 15px;text-align: left;"><input type="text" placeholder="As per Terms and Conditions located on" style="width: 100%;" id="title12" onchange="update_contractsheet()" value="{{ data.0.title12 }}"> <a href="#">http://www.egictech.net</a> </p>
    <p style="margin: 0;padding: 0 10px 10px 10px;font-size: 15px;text-align: left;"><input type="checkbox"><input type="text" onchange="update_contractsheet()" value="{{ data.0.title13 }}" placeholder="I have read the terms and conditions and agreed to join the plan" style="width: 96%;" id="title13"> </p>
    <p style="margin: 0;padding: 0 10px 0 10px;font-size: 15px;text-align: left;"><input type="checkbox"><input type="text"  style="width: 96%;" id="title14" onchange="update_contractsheet()" value="{{ data.0.title14 }}" placeholder="I agree that i have read and understand the 9-1-1 service limitations described in the document attached.Viloation of terms and conditions may terminate this service any time without notice">
    </p>
    <p style="padding: 0 10px 10px 30px;margin: 0;text-align: left;"></p>
    <p style="margin: 0;padding: 0 10px 0 10px;font-size: 15px;text-align: left;"><input type="checkbox"><input type="text" style="width: 96%;" id="title15" onchange="update_contractsheet()" value="{{ data.0.title15 }}" placeholder="Hereby I authorize EGC Technologies, its agents or constituents, in the case of overdue payment,to obtain information about my credit history and other personal information about me from the credit reporting agencies and to communicate such information to the agencies">
    </p>
    <p style="font-weight: bold;text-transform: uppercase;text-align: left;padding: 0 10px;color: #1700ee;">
        <textarea style="width: 100%" rows="4" id="title16" onchange="update_contractsheet()">{{ data.0.title16 }}</textarea>
    </p>
    <p style="text-align: left;padding: 0 10px;">
        <strong>Signature :</strong>         ______________________________
    </p>
    <p style="text-align: left;padding: 0 10px;">
        <strong>Service agreement : </strong> <input type="text" id="title17" onchange="update_contractsheet()" value="{{ data.0.title17 }}"placeholder="Monthly">
    </p>
    <p style="text-align: left;padding: 0 10px;">
        <strong>Type :</strong>           _____________________________________
    </p>
    <p style="text-align: left;padding: 0 10px;">
        <strong>Service start date :</strong>             _____________________________
    </p>
</div>
{% endblock %}
{% block scripts %}
<script src="https://ajax.aspnetcdn.com/ajax/jQuery/jquery-3.3.1.min.js"></script>
<script>
    function update_contractsheet() {

        var title1 = document.getElementById('title1').value;
        var title2 = document.getElementById('title2').value;
        var title3 = document.getElementById('title3').value;
        var title4 = document.getElementById('title4').value;
        var title5 = document.getElementById('title5').value;
        var title6 = document.getElementById('title6').value;
        var title7 = document.getElementById('title7').value;
        var title8 = document.getElementById('title8').value;
        var title9 = document.getElementById('title9').value;
        var title10 = document.getElementById('title10').value;
        var title11 = document.getElementById('title11').value;
        var title12 = document.getElementById('title12').value;
        var title13 = document.getElementById('title13').value;
        var title14 = document.getElementById('title14').value;
        var title15 = document.getElementById('title15').value;
        var title16 = document.getElementById('title16').value;
        var title17 = document.getElementById('title17').value;

         $.ajax({
            type: "post",
            url: "{% url 'save_contractsheet' %}",
            data: {csrfmiddlewaretoken:"{{csrf_token}}",
                title1:title1,
                title2:title2,
                title3:title3,
                title4:title4,
                title5:title5,
                title6:title6,
                title7:title7,
                title8:title8,
                title9:title9,
                title10:title10,
                title11:title11,
                title12:title12,
                title13:title13,
                title14:title14,
                title15:title15,
                title16:title16,
                title17:title17,
            },
            success:function (success){
                console.log(success);

                document.getElementById('title1').value = success['title1'];
                document.getElementById('title2').value = success['title2'];
                document.getElementById('title3').value = success['title3'];
                document.getElementById('title4').value = success['title4'];
                document.getElementById('title5').value = success['title5'];
                document.getElementById('title6').value = success['title6'];
                document.getElementById('title7').value = success['title7'];
                document.getElementById('title8').value = success['title8'];
                document.getElementById('title9').value = success['title9'];
                document.getElementById('title10').value = success['title10'];
                document.getElementById('title11').value = success['title11'];
                document.getElementById('title12').value = success['title12'];
                document.getElementById('title13').value = success['title13'];
                document.getElementById('title14').value = success['title14'];
                document.getElementById('title15').value = success['title15'];
                document.getElementById('title16').value = success['title16'];
                document.getElementById('title17').value = success['title17'];


            }
        });
    }
</script>
{%  endblock %}


